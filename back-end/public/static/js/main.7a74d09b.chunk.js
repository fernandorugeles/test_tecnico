(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{180:function(e,t,c){},258:function(e,t,c){"use strict";c.r(t);var r=c(6),n=c(0),s=c.n(n),a=c(25),o=c.n(a),i=(c(180),c(181),c(73)),j=c(63),l=c(26),u=c(34),b=c(53),d=c(262),O=c(75),h=c(90),x=c(50),m=c(264),f=c(164);function p(e){var t=new FormData;if(!f.a.isEmpty(e))for(var c in e)t.append(c,e[c]);return t}function g(e,t){localStorage.setItem(e,JSON.stringify(t))}function v(e){return JSON.parse(localStorage.getItem(e))}function y(e){return localStorage.removeItem(e)}var _=c(271),C=c(260),S=c(270),E=c(261),k=c(268),I="http://localhost:8000/api",T={url_products_list:"".concat(I,"/product/listProducts"),url_pay:"".concat(I,"/order/pay"),url_get_status:"".concat(I,"/order/getStatusOrder/"),url_get_orders_list:"".concat(I,"/order/getOrderList/")},P=c(272),F=c(171);var N=Object(b.a)((function(){var e=Object(l.g)(),t=v("product"),c=v("order"),s=Object(n.useState)(!1),a=Object(u.a)(s,2),o=a[0],i=a[1],j=Object(n.useState)(null),b=Object(u.a)(j,2),f=b[0],g=b[1],y=Object(n.useState)(null),I=Object(u.a)(y,2),N=(I[0],I[1]),w=Object(n.useState)(null),R=Object(u.a)(w,2),D=R[0],A=R[1],V=function(){i(!0),function(e,t){return Object(C.a)("".concat(T.url_pay),{method:"POST",body:p({order:JSON.stringify(e),product:JSON.stringify(t)})}).pipe(Object(S.a)((function(e){return e.ok?e.json():(alert("".concat(e.statusText)),Object(k.a)({error:!0,message:"Error ".concat(e.status)}))})),Object(E.a)((function(e){return alert("".concat(e.message)),Object(k.a)({error:!0,message:e.message})})))}(c,t).subscribe({next:function(e){e.error||(g(e.processUrl),N(e.requestId),A(e.reference))},complete:function(){i(!1)}})};return t&&c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(d.a,{orientation:"left",children:[Object(r.jsx)(O.a,{onClick:function(){e.push("/listProducts")},type:"dashed",icon:Object(r.jsx)(P.a,{}),children:"Volver a productos"}),"Resumen de la orden"]}),Object(r.jsxs)(h.a,{children:[Object(r.jsx)(x.a,{span:6,children:Object(r.jsx)(m.a,{hoverable:!0,cover:Object(r.jsx)("img",{alt:t.name,src:t.image}),children:Object(r.jsx)(m.a.Meta,{title:t.name,description:t.description})})}),Object(r.jsxs)(x.a,{offset:2,span:10,children:[Object(r.jsx)("h1",{children:c.customer_name}),Object(r.jsx)("h2",{children:c.customer_email}),Object(r.jsx)("h3",{children:c.customer_mobile}),Object(r.jsxs)("h2",{children:["$",t.price]}),f?Object(r.jsxs)("div",{style:{textAlign:"center"},children:[Object(r.jsx)("br",{}),Object(r.jsxs)(d.a,{orientation:"center",children:["Referencia de pago ",D]}),Object(r.jsx)("h2",{children:Object(r.jsx)("a",{href:f,children:"Ingresar datos para el pago"})})]}):Object(r.jsx)(O.a,{loading:o,onClick:function(){return V()},type:"primary",icon:Object(r.jsx)(F.a,{}),children:"Continuar con el pago"})]})]})]}):Object(r.jsxs)("div",{style:{flex:1,display:"flex",alignContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(r.jsx)(_.a,{style:{fontSize:120}}),Object(r.jsx)("h1",{children:"Debes seleccionar un producto para hacer la orden"}),Object(r.jsx)("a",{onClick:function(){return window.location.replace("/")},children:"Volver"})]})})),w=c(269),R=c(267),D=c(265),A=c(266),V=c(263),z=c(273),J=c(274),q=c(275),B=c(276);var L=Object(b.a)((function(e){var t=e.order,c=Object(l.g)(),a=Object(n.useState)([]),o=Object(u.a)(a,2),j=o[0],b=o[1],h=Object(n.useState)(!1),x=Object(u.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)(!1),I=Object(u.a)(_,2),F=I[0],N=I[1],L=Object(n.useState)(!1),$=Object(u.a)(L,2),U=$[0],G=$[1];Object(n.useEffect)((function(){localStorage.clear()}),[]);var H=function(){v(!0),Object(C.a)("".concat(T.url_products_list),{method:"POST",body:p({})}).pipe(Object(S.a)((function(e){return e.ok?e.json():(alert("".concat(e.statusText)),Object(k.a)({error:!0,message:"Error ".concat(e.status)}))})),Object(E.a)((function(e){return alert("".concat(e.message)),Object(k.a)({error:!0,message:e.message})}))).subscribe({next:function(e){e.error||b(e)},complete:function(){v(!1)}})},K=function(e){var t=e.icon,c=e.text,n=e.onClick;return Object(r.jsxs)(w.b,{onClick:n,children:[s.a.createElement(t),c]})},Q=function(e){N(!F),e&&g("product",e)},W=function(e){G(!U)},X=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(R.a,{onCancel:function(){return Q()},okButtonProps:{style:{display:"none"}},title:"Para continuar completa los siguientes datos",visible:F,afterClose:function(){return y("product")},cancelText:"Cancelar",children:Object(r.jsx)(M,{order:t})})})},Y=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(R.a,{onCancel:function(){return W()},okButtonProps:{style:{display:"none"}},title:"Para continuar completa los siguientes datos",visible:U,afterClose:function(){return y("product")},cancelText:"Cancelar",children:Object(r.jsx)("div",{children:Object(r.jsxs)(D.a,{onFinish:function(){c.push("/orderResponse/".concat(t.reference))},children:[Object(r.jsx)(D.a.Item,{label:"Referencia",name:"reference",labelCol:{span:24},rules:[{required:!0,message:"la referencia es necesaria"}],children:Object(r.jsx)(A.a,{onChange:function(e){return t.set("reference",e.target.value)}})}),Object(r.jsx)(D.a.Item,{children:Object(r.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Continuar"})})]})})})})},Z=function(e){return Object(r.jsx)(V.b.Item,{children:Object(r.jsx)(m.a,{style:{width:300},cover:Object(r.jsx)("img",{src:e.image}),actions:[Object(r.jsx)(K,{onClick:function(){return Q(e)},icon:z.a,text:"Ordenar"},"list-vertical-star-o"),Object(r.jsx)(K,{icon:J.a,text:e.price},"list-vertical-like-o")],children:Object(r.jsx)(m.a.Meta,{title:e.name,description:e.description})})})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(X,{}),Object(r.jsx)(Y,{}),Object(r.jsxs)(d.a,{orientation:"left",children:[Object(r.jsx)(O.a,{loading:f,onClick:function(){return H()},type:"dashed",icon:Object(r.jsx)(P.a,{}),children:"Ver productos"}),Object(r.jsx)(O.a,{onClick:function(){c.push("/listOrders")},type:"dashed",icon:Object(r.jsx)(q.a,{}),children:"Ver ordenes"}),Object(r.jsx)(O.a,{onClick:function(){return W()},type:"dashed",icon:Object(r.jsx)(B.a,{}),children:"Buscar mi orden"})]}),Object(r.jsx)(V.b,{loading:f,grid:{column:4},bordered:!0,dataSource:j,renderItem:function(e){return Object(r.jsx)(Z,Object(i.a)({},e))}})]})}));var M=Object(b.a)((function(e){var t=e.order,c=Object(l.g)();return Object(r.jsx)(h.a,{justify:"center",align:"middle",children:Object(r.jsx)(x.a,{className:"gutter-row",children:Object(r.jsxs)(D.a,{onFinish:function(){return g("order",t),void c.push("/orderSelected")},children:[Object(r.jsx)(D.a.Item,{label:"Nombre",labelCol:{span:24},name:"name",rules:[{required:!0,message:"El nombre es necesario"}],children:Object(r.jsx)(A.a,{onChange:function(e){return t.set("customer_name",e.target.value)}})}),Object(r.jsx)(D.a.Item,{label:"Correo electr\xf3nico",labelCol:{span:24},name:"email",rules:[{required:!0,message:"El correo electronico es obligatorio"}],children:Object(r.jsx)(A.a,{onChange:function(e){return t.set("customer_email",e.target.value)}})}),Object(r.jsx)(D.a.Item,{label:"N\xfamero de celular",labelCol:{span:24},name:"telephone",rules:[{required:!0,message:"El n\xfamero de celular es obligatorio"}],children:Object(r.jsx)(A.a,{onChange:function(e){return t.set("customer_mobile",e.target.value)}})}),Object(r.jsx)(D.a.Item,{children:Object(r.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Continuar"})})]})})})})),$=c(56);var U=Object(b.a)((function(){var e=Object(l.g)(),t=Object(l.h)().reference,c=Object(n.useState)(!1),s=Object(u.a)(c,2),a=s[0],o=s[1],i=Object(n.useState)(!1),j=Object(u.a)(i,2),b=j[0],f=j[1],g=function(){o(!0),function(e){return Object(C.a)("".concat(T.url_get_status),{method:"POST",body:p({reference:e})}).pipe(Object(S.a)((function(e){return e.ok?e.json():(alert("".concat(e.statusText)),Object(k.a)({error:!0,message:"Error ".concat(e.status)}))})),Object(E.a)((function(e){return alert("".concat(e.message)),Object(k.a)({error:!0,message:e.message})})))}(t).subscribe({next:function(e){"string"===typeof e?f(e):e.error||f(e)},complete:function(){o(!1)}})};return Object(n.useEffect)((function(){g()}),[]),a?Object(r.jsxs)("div",{className:"loading",children:[Object(r.jsx)($.a,{style:{fontSize:50}}),Object(r.jsx)("h2",{children:"Cargando...."})]}):"string"===typeof b?Object(r.jsxs)("div",{className:"loading",children:[Object(r.jsx)("h2",{children:b}),Object(r.jsx)("h2",{onClick:function(){return window.location.replace("./")},children:Object(r.jsx)("a",{children:"Volver"})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(d.a,{orientation:"left",children:[Object(r.jsx)(O.a,{onClick:function(){e.push("/listProducts")},type:"dashed",icon:Object(r.jsx)(P.a,{}),children:"Volver a productos"}),"Estado de la orden"]}),Object(r.jsxs)(h.a,{children:[Object(r.jsx)(x.a,{span:6,children:Object(r.jsx)(m.a,{loading:a,hoverable:!0,cover:Object(r.jsx)("img",{alt:b.name,src:b.image}),children:Object(r.jsx)(m.a.Meta,{title:b.name,description:b.description})})}),Object(r.jsxs)(x.a,{offset:2,span:10,children:[Object(r.jsx)("h1",{children:b.customer_name}),Object(r.jsx)("h2",{children:b.customer_email}),Object(r.jsx)("h3",{children:b.customer_mobile}),Object(r.jsxs)("h2",{children:["$",b.price]}),Object(r.jsxs)("div",{style:{textAlign:"center"},children:[Object(r.jsx)(d.a,{orientation:"center",children:"Estado"}),Object(r.jsx)("h1",{className:b.customer_status,children:"CREATED"==b.customer_status?"PENDING":b.customer_status}),"CREATED"==b.customer_status&&Object(r.jsx)("h2",{children:Object(r.jsx)("a",{href:b.process_url,children:"Finalizar el pago"})})]})]})]})]})}));var G=Object(b.a)((function(){var e=Object(l.g)(),t=Object(n.useState)(!1),c=Object(u.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),j=i[0],b=i[1],h=function(){a(!0),Object(C.a)("".concat(T.url_get_orders_list),{method:"POST",body:p({})}).pipe(Object(S.a)((function(e){return e.ok?e.json():(alert("".concat(e.statusText)),Object(k.a)({error:!0,message:"Error ".concat(e.status)}))})),Object(E.a)((function(e){return alert("".concat(e.message)),Object(k.a)({error:!0,message:e.message})}))).subscribe({next:function(e){e.error||(b(e),console.log(e))},complete:function(){a(!1)}})};return Object(n.useEffect)((function(){h()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(d.a,{orientation:"left",children:[Object(r.jsx)(O.a,{onClick:function(){e.push("/listProducts")},type:"dashed",icon:Object(r.jsx)(P.a,{}),children:"Volver a productos"}),"Lista de ordenes"]}),Object(r.jsx)(V.b,{itemLayout:"vertical",size:"large",grid:{column:3,xs:1,sm:1},loading:s,pagination:{onChange:function(e){console.log(e)},pageSize:6},dataSource:j,renderItem:function(e){return Object(r.jsxs)(V.b.Item,{extra:Object(r.jsxs)("div",{className:"det",children:[Object(r.jsx)("img",{width:120,alt:e.name,src:e.image}),Object(r.jsxs)("div",{className:"detText",children:[Object(r.jsx)("h3",{children:e.customer_name}),Object(r.jsx)("label",{children:e.customer_email}),Object(r.jsx)("label",{children:e.customer_mobile}),Object(r.jsxs)("div",{style:{textAlign:"center"},children:[Object(r.jsx)(d.a,{orientation:"center",children:"Estado"}),Object(r.jsx)("h2",{className:e.customer_status,children:e.customer_status}),"CREATED"==e.customer_status&&Object(r.jsx)("h3",{children:Object(r.jsx)("a",{href:e.process_url,children:"Finalizar el pago"})})]})]})]}),children:[Object(r.jsx)(V.b.Item.Meta,{title:Object(r.jsx)("a",{children:e.name}),description:e.description}),Object(r.jsxs)("h3",{children:["$",e.price]}),Object(r.jsx)(d.a,{orientation:"center",children:"REFRENCIA: ".concat(e.reference)})]},e.id)}})]})})),H=c(46),K=H.a.model({customer_name:H.a.optional(H.a.string,""),customer_email:H.a.optional(H.a.string,""),customer_mobile:H.a.optional(H.a.string,""),id_product:H.a.optional(H.a.integer,0),reference:H.a.optional(H.a.string,"")}).actions((function(e){return{set:function(t,c){e[t]=c}}})).views((function(e){return{}}));var Q=function(){var e=K.create({});return Object(r.jsxs)(j.a,{children:[Object(r.jsx)("div",{id:"container-notify"}),Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/orderSelected",render:function(e){return Object(r.jsx)(N,Object(i.a)({},e))}}),Object(r.jsx)(l.b,{path:"/dataUser",render:function(e){return Object(r.jsx)(M,Object(i.a)({},e))}}),Object(r.jsx)(l.b,{path:"/listProducts",render:function(t){return Object(r.jsx)(L,Object(i.a)({order:e},t))}}),Object(r.jsx)(l.b,{path:"/orderResponse/:reference",render:function(e){return Object(r.jsx)(U,Object(i.a)({},e))}}),Object(r.jsx)(l.b,{path:"/listOrders",render:function(e){return Object(r.jsx)(G,Object(i.a)({},e))}}),Object(r.jsx)(l.a,{to:"/listProducts"})]})]})};var W=function(){return Object(r.jsx)(Q,{})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,277)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(W,{})}),document.getElementById("root")),X()}},[[258,1,2]]]);
//# sourceMappingURL=main.7a74d09b.chunk.js.map